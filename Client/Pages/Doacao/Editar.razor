@page "/doacao/editar/{id}/{idParcela}/{dtVcto}/{vlr}"
@using Operacao.Shared.Models
@using Operacao.Shared.Utils
@inject HttpClient Http
@inject NavigationManager NavManager
@inject Blazored.SessionStorage.ISyncSessionStorageService sessionStorage

<h3>Editar</h3>
<hr>

<button class="btn btn-link" @onclick="Voltar">Voltar</button>

<div class="card" style="width:400px;">
    <div class="card-body">
        <form>
            <div class="form-row">
                <div class="col d-lg-flex align-items-lg-center">
                    <label style="width:150px;margin-right:10px;">Recibo</label>
                    <input type="text" class="form-control" readonly @bind="Id" />
                </div>
            </div>
            <div class="form-row" style="margin-top:10px">
                <div class="col d-lg-flex align-items-lg-center">
                    <label style="width:150px;margin-right:10px;">Data Vcto.</label>
                    <input type="date" class="form-control" @bind-value="parcela.DtVencimento" />
                </div>
            </div>
            <div class="form-row" style="margin-top:10px">
                <div class="col d-lg-flex align-items-lg-center">
                    <label style="width:150px; margin-right: 10px;">Valor</label>
                    <input type="text" class="form-control" @bind-value="parcela.Valor" />
                </div>
            </div>

            <div class="form-row" style="margin-top:10px">
                <div class="col">
                    <button class="btn btn-primary float-right">Editar</button>
                </div>
            </div>
        </form>
    </div>
</div>

@code {
    [Parameter]
    public string Id { get; set; }
    [Parameter]
    public string IdParcela { get; set; }
    [Parameter]
    public string DtVcto { get; set; }
    [Parameter]
    public string Vlr { get; set; }

    private Parcela parcela;

    protected override async Task OnInitializedAsync()
    {
        parcela = new Parcela
        {
            Id = Convert.ToInt32(IdParcela),
            ContribuinteId = Convert.ToInt32(Id),
            DtVencimento = Convert.ToDateTime(DtVcto),
            Valor = Convert.ToDouble(Vlr),
        };
    }

    void Voltar()
    {
        NavManager.NavigateTo("/doacao/consulta/" + Id);
    }

    async Task Editar()
    {

    }


}
